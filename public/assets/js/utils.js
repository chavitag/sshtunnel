webpackJsonp([12],{

/***/ "./assets/js/utils.js":
/*!****************************!*\
  !*** ./assets/js/utils.js ***!
  \****************************/
/*! dynamic exports provided */
/*! all exports used */
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(jQuery, $, global) {(function ($) {
	$.fn.serializeJSON = function () {
		var json = {};
		jQuery.map($(this).serializeArray(), function (i, n) {
			json[i['name']] = i['value'];
		});
		return json;
	};
})(jQuery);

function callServer(controller, query, callback, params, type, context) {
	if (query === null || query == "null") query = "isajax=true";else query += "&isajax=true";
	$.ajax({
		url: controller,
		context: context,
		data: query,
		dataType: type,
		method: "POST",
		contentType: "application/x-www-form-urlencoded;charset=UTF-8"
	}).done(function (data, status, xhr) {
		if (type == 'html') {
			try {
				var r = JSON.parse(data);
				messageAlert("ERROR: " + data.msg, ERROR);
			} catch (e) {
				callback(data, params, context);
			}
		} else {
			if (!data instanceof Object || data.ok !== undefined && data.ok !== true) {
				if (data.code == 2) document.location = "/";
				messageAlert("ERROR: " + data.msg, ERROR);
			} else {
				if (callback !== undefined && callback != "" && callback != null) callback(data, params, context);
			}
		}
	}).fail(function (xhr, status, errorthrow) {
		document.write(xhr.responseText);
		//messageAlert("ERROR: "+xhr.responseText,ERROR);
	});
}

function messageAlert(message, type, timeout) {
	$("#alerts").html("<div id='alertbody' class='alert " + type + " alert-dismissible fade show' role='alert'>" + message + "<button type='button' class='close' data-dismiss='alert' aria-label='Pechar'><span aria-hidden='true'>&times;</span></button>" + "</div>").show();
	if (timeout !== undefined) {
		setTimeout(function () {
			$("#alertbody").alert("close");
		}, timeout);
	}
}

//-------  Table
var _table_selections_ = {};
var _table_formatters_ = {};

function getIdSelections(id) {
	return $.map($("#" + id).bootstrapTable('getSelections'), function (row) {
		return row.id;
	});
}

function reloadTable(data, id) {
	alert("reloading....");alert(data);
	$("#" + id).bootstrapTable("load", data);
	$("#" + id).trigger("load-success.bs.table", data);
	$("#" + id).trigger("uncheck-all.bs.table");
}

function fixmargins(id, value, row, index, field) {
	if (_table_formatters_[id] !== undefined && _table_formatters_[id][field] !== undefined) {
		return window[_table_formatters_[id][field]](value, row, index, field);
	}
	return '<span style="margin-left: 8px">' + value + '</span>';
}

//------  Select
//

var __select__content = {};

function reloadSelect(idselect, data) {
	var select = $("#" + idselect);
	var value = select.data("value");
	var text = select.data("text");

	select.empty();
	select.data("data", JSON.stringify(data));
	for (var d in data.rows) {
		var sel = "";
		var dis = "";
		if (data.rows[d].selected != undefined && data.rows[d].selected == "true") sel = "selected";
		if (data.rows[d].disabled != undefined && data.rows[d].disabled == "true") dis = "disabled";
		select.append('<option data-index="' + data.rows[d].id + '" value="' + data.rows[d][value] + '" ' + sel + ' ' + dis + '>' + data.rows[d][text] + '</option>');
	}
	select.selectpicker("refresh");
	__select__content[idselect] = data;
}

//------------- ZIndex
//
$.maxZIndex = $.fn.maxZIndex = function (opt) {
	/// <summary>
	/// Returns the max zOrder in the document (no parameter)
	/// Sets max zOrder by passing a non-zero number
	/// which gets added to the highest zOrder.
	/// </summary>    
	/// <param name="opt" type="object">
	/// inc: increment value, 
	/// group: selector for zIndex elements to find max for
	/// </param>
	/// <returns type="jQuery" />
	var def = { inc: 10, group: "*" };
	$.extend(def, opt);
	var zmax = 0;
	$(def.group).each(function () {
		var cur = parseInt($(this).css('z-index'));
		zmax = cur > zmax ? cur : zmax;
	});
	if (!this.jquery) return zmax;

	return this.each(function () {
		zmax += def.inc;
		$(this).css("z-index", zmax);
	});
};

var INFO = "alert-info";
var WARNING = "alert-warning";
var ERROR = "alert-danger";
var OK = "alert-success";

global.getIdSelections = getIdSelections;
global.reloadTable = reloadTable;
global.fixmargins = fixmargins;
global._table_selections_ = _table_selections_;
global._table_formatters_ = _table_formatters_;
global.__select__content = __select__content;
global.messageAlert = messageAlert;
global.callServer = callServer;
global.reloadSelect = reloadSelect;
global.INFO = INFO;
global.WARNING = WARNING;
global.ERROR = ERROR;
global.OK = OK;

global.$ = global.jQuery = $;
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(/*! jquery */ "./node_modules/jquery/dist/jquery.js"), __webpack_require__(/*! jquery */ "./node_modules/jquery/dist/jquery.js"), __webpack_require__(/*! ./../../node_modules/webpack/buildin/global.js */ "./node_modules/webpack/buildin/global.js")))

/***/ })

},["./assets/js/utils.js"]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9hc3NldHMvanMvdXRpbHMuanMiXSwibmFtZXMiOlsiJCIsImZuIiwic2VyaWFsaXplSlNPTiIsImpzb24iLCJqUXVlcnkiLCJtYXAiLCJzZXJpYWxpemVBcnJheSIsImkiLCJuIiwiY2FsbFNlcnZlciIsImNvbnRyb2xsZXIiLCJxdWVyeSIsImNhbGxiYWNrIiwicGFyYW1zIiwidHlwZSIsImNvbnRleHQiLCJhamF4IiwidXJsIiwiZGF0YSIsImRhdGFUeXBlIiwibWV0aG9kIiwiY29udGVudFR5cGUiLCJkb25lIiwic3RhdHVzIiwieGhyIiwiciIsIkpTT04iLCJwYXJzZSIsIm1lc3NhZ2VBbGVydCIsIm1zZyIsIkVSUk9SIiwiZSIsIk9iamVjdCIsIm9rIiwidW5kZWZpbmVkIiwiY29kZSIsImRvY3VtZW50IiwibG9jYXRpb24iLCJmYWlsIiwiZXJyb3J0aHJvdyIsIndyaXRlIiwicmVzcG9uc2VUZXh0IiwibWVzc2FnZSIsInRpbWVvdXQiLCJodG1sIiwic2hvdyIsInNldFRpbWVvdXQiLCJhbGVydCIsIl90YWJsZV9zZWxlY3Rpb25zXyIsIl90YWJsZV9mb3JtYXR0ZXJzXyIsImdldElkU2VsZWN0aW9ucyIsImlkIiwiYm9vdHN0cmFwVGFibGUiLCJyb3ciLCJyZWxvYWRUYWJsZSIsInRyaWdnZXIiLCJmaXhtYXJnaW5zIiwidmFsdWUiLCJpbmRleCIsImZpZWxkIiwid2luZG93IiwiX19zZWxlY3RfX2NvbnRlbnQiLCJyZWxvYWRTZWxlY3QiLCJpZHNlbGVjdCIsInNlbGVjdCIsInRleHQiLCJlbXB0eSIsInN0cmluZ2lmeSIsImQiLCJyb3dzIiwic2VsIiwiZGlzIiwic2VsZWN0ZWQiLCJkaXNhYmxlZCIsImFwcGVuZCIsInNlbGVjdHBpY2tlciIsIm1heFpJbmRleCIsIm9wdCIsImRlZiIsImluYyIsImdyb3VwIiwiZXh0ZW5kIiwiem1heCIsImVhY2giLCJjdXIiLCJwYXJzZUludCIsImNzcyIsImpxdWVyeSIsIklORk8i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QU9GLE9BQVAsR0FBZUEsT0FBZjtBQUNBRSxPQUFPN0QsS0FBUCxHQUFhQSxLQUFiO0FBQ0E2RCxPQUFPRCxFQUFQLEdBQVVBLEVBQVY7O0FBRUFDLE9BQU8zRixDQUFQLEdBQVcyRixPQUFPdkYsTUFBUCxHQUFnQkosQ0FBM0IsQyIsImZpbGUiOiJqcy91dGlscy5qcyIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbiggJCApe1xuJC5mbi5zZXJpYWxpemVKU09OPWZ1bmN0aW9uKCkge1xuICAgIHZhciBqc29uID0ge307XG4gICAgalF1ZXJ5Lm1hcCgkKHRoaXMpLnNlcmlhbGl6ZUFycmF5KCksIGZ1bmN0aW9uKGksIG4pe1xuICAgICAgICBqc29uW2lbJ25hbWUnXV0gPSBpWyd2YWx1ZSddO1xuICAgIH0pO1xuICAgIHJldHVybiBqc29uO1xufTtcbn0pKCBqUXVlcnkgKTtcblxuZnVuY3Rpb24gY2FsbFNlcnZlcihjb250cm9sbGVyLHF1ZXJ5LGNhbGxiYWNrLHBhcmFtcyx0eXBlLGNvbnRleHQpIHtcblx0aWYgKChxdWVyeT09PW51bGwpfHwocXVlcnk9PVwibnVsbFwiKSkgcXVlcnk9XCJpc2FqYXg9dHJ1ZVwiO1xuXHRlbHNlIHF1ZXJ5Kz1cIiZpc2FqYXg9dHJ1ZVwiO1xuXHQkLmFqYXgoe1xuXHRcdHVybDogY29udHJvbGxlcixcblx0XHRjb250ZXh0OiBjb250ZXh0LFxuXHRcdGRhdGE6IHF1ZXJ5LFxuXHRcdGRhdGFUeXBlOiB0eXBlLFxuXHRcdG1ldGhvZDogXCJQT1NUXCIsXG5cdFx0Y29udGVudFR5cGU6IFwiYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkO2NoYXJzZXQ9VVRGLThcIixcblx0fSkuZG9uZShmdW5jdGlvbiAoZGF0YSxzdGF0dXMseGhyKSB7IFxuXHRcdGlmICh0eXBlPT0naHRtbCcpIHsgXG5cdFx0XHR0cnkge1xuXHRcdFx0XHR2YXIgcj1KU09OLnBhcnNlKGRhdGEpOyBcblx0XHRcdFx0bWVzc2FnZUFsZXJ0KFwiRVJST1I6IFwiK2RhdGEubXNnLEVSUk9SKTtcblx0XHRcdH0gY2F0Y2goZSkge1xuXHRcdFx0XHRjYWxsYmFjayhkYXRhLHBhcmFtcyxjb250ZXh0KTtcblx0XHRcdH1cblx0XHR9IGVsc2Uge1xuXHRcdFx0aWYgKCghZGF0YSBpbnN0YW5jZW9mIE9iamVjdCkgfHwgKGRhdGEub2shPT11bmRlZmluZWQgJiYgZGF0YS5vayE9PXRydWUpKSB7XG5cdFx0XHRcdGlmIChkYXRhLmNvZGU9PTIpIGRvY3VtZW50LmxvY2F0aW9uPVwiL1wiO1xuXHRcdFx0XHRtZXNzYWdlQWxlcnQoXCJFUlJPUjogXCIrZGF0YS5tc2csRVJST1IpO1xuXHRcdFx0fVxuXHRcdFx0ZWxzZSB7XG5cdFx0XHRcdGlmICgoY2FsbGJhY2shPT11bmRlZmluZWQpICYmIChjYWxsYmFjayE9XCJcIikgJiYgKGNhbGxiYWNrIT1udWxsKSkgY2FsbGJhY2soZGF0YSxwYXJhbXMsY29udGV4dCk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9KS5mYWlsKGZ1bmN0aW9uICh4aHIsc3RhdHVzLGVycm9ydGhyb3cpIHsgXG5cdFx0XHRkb2N1bWVudC53cml0ZSh4aHIucmVzcG9uc2VUZXh0KTtcblx0XHRcdC8vbWVzc2FnZUFsZXJ0KFwiRVJST1I6IFwiK3hoci5yZXNwb25zZVRleHQsRVJST1IpO1xuXHR9KTtcbn1cblxuZnVuY3Rpb24gbWVzc2FnZUFsZXJ0KG1lc3NhZ2UsdHlwZSx0aW1lb3V0KSB7XG5cdCQoXCIjYWxlcnRzXCIpLmh0bWwoXCI8ZGl2IGlkPSdhbGVydGJvZHknIGNsYXNzPSdhbGVydCBcIit0eXBlK1wiIGFsZXJ0LWRpc21pc3NpYmxlIGZhZGUgc2hvdycgcm9sZT0nYWxlcnQnPlwiK21lc3NhZ2UrXG5cdFx0XHRcdFx0XHRcdFwiPGJ1dHRvbiB0eXBlPSdidXR0b24nIGNsYXNzPSdjbG9zZScgZGF0YS1kaXNtaXNzPSdhbGVydCcgYXJpYS1sYWJlbD0nUGVjaGFyJz48c3BhbiBhcmlhLWhpZGRlbj0ndHJ1ZSc+JnRpbWVzOzwvc3Bhbj48L2J1dHRvbj5cIitcblx0XHRcdFx0XHRcdFx0XCI8L2Rpdj5cIikuc2hvdygpO1xuXHRpZiAodGltZW91dCE9PXVuZGVmaW5lZCkge1xuXHRcdHNldFRpbWVvdXQoZnVuY3Rpb24oKXsgJChcIiNhbGVydGJvZHlcIikuYWxlcnQoXCJjbG9zZVwiKTsgfSwgdGltZW91dCk7XG5cdH1cbn1cblxuLy8tLS0tLS0tICBUYWJsZVxudmFyIF90YWJsZV9zZWxlY3Rpb25zXz17fTtcbnZhciBfdGFibGVfZm9ybWF0dGVyc189e307XG5cbmZ1bmN0aW9uIGdldElkU2VsZWN0aW9ucyhpZCkge1xuXHRyZXR1cm4gJC5tYXAoJChcIiNcIitpZCkuYm9vdHN0cmFwVGFibGUoJ2dldFNlbGVjdGlvbnMnKSwgZnVuY3Rpb24gKHJvdykge1xuXHRcdHJldHVybiByb3cuaWRcblx0fSk7XG59XG5cbmZ1bmN0aW9uIHJlbG9hZFRhYmxlKGRhdGEsaWQpIHsgYWxlcnQoXCJyZWxvYWRpbmcuLi4uXCIpOyBhbGVydChkYXRhKTtcblx0JChcIiNcIitpZCkuYm9vdHN0cmFwVGFibGUoXCJsb2FkXCIsZGF0YSk7XG5cdCQoXCIjXCIraWQpLnRyaWdnZXIoXCJsb2FkLXN1Y2Nlc3MuYnMudGFibGVcIixkYXRhKTtcblx0JChcIiNcIitpZCkudHJpZ2dlcihcInVuY2hlY2stYWxsLmJzLnRhYmxlXCIpO1xufVxuXG5mdW5jdGlvbiBmaXhtYXJnaW5zKGlkLHZhbHVlLHJvdyxpbmRleCxmaWVsZCkgeyBcblx0aWYgKChfdGFibGVfZm9ybWF0dGVyc19baWRdIT09dW5kZWZpbmVkKSAmJiAoX3RhYmxlX2Zvcm1hdHRlcnNfW2lkXVtmaWVsZF0hPT11bmRlZmluZWQpKSB7XG5cdFx0cmV0dXJuIHdpbmRvd1tfdGFibGVfZm9ybWF0dGVyc19baWRdW2ZpZWxkXV0odmFsdWUscm93LGluZGV4LGZpZWxkKTtcblx0fVxuXHRyZXR1cm4gJzxzcGFuIHN0eWxlPVwibWFyZ2luLWxlZnQ6IDhweFwiPicrdmFsdWUrJzwvc3Bhbj4nO1xufVxuXG4vLy0tLS0tLSAgU2VsZWN0XG4vL1xuXG52YXIgIF9fc2VsZWN0X19jb250ZW50PXt9O1xuXG5mdW5jdGlvbiByZWxvYWRTZWxlY3QoaWRzZWxlY3QsZGF0YSkge1xuXHR2YXIgc2VsZWN0PSQoXCIjXCIraWRzZWxlY3QpO1xuXHR2YXIgdmFsdWU9c2VsZWN0LmRhdGEoXCJ2YWx1ZVwiKTtcblx0dmFyIHRleHQ9c2VsZWN0LmRhdGEoXCJ0ZXh0XCIpO1xuXG5cdHNlbGVjdC5lbXB0eSgpO1xuXHRzZWxlY3QuZGF0YShcImRhdGFcIixKU09OLnN0cmluZ2lmeShkYXRhKSk7XG5cdGZvcih2YXIgZCBpbiBkYXRhLnJvd3MpIHtcblx0XHR2YXIgc2VsPVwiXCI7XG5cdFx0dmFyIGRpcz1cIlwiO1xuXHRcdGlmICgoZGF0YS5yb3dzW2RdLnNlbGVjdGVkICE9IHVuZGVmaW5lZCkgJiYgKGRhdGEucm93c1tkXS5zZWxlY3RlZD09XCJ0cnVlXCIpKSBzZWw9XCJzZWxlY3RlZFwiO1xuXHRcdGlmICgoZGF0YS5yb3dzW2RdLmRpc2FibGVkICE9IHVuZGVmaW5lZCkgJiYgKGRhdGEucm93c1tkXS5kaXNhYmxlZD09XCJ0cnVlXCIpKSBkaXM9XCJkaXNhYmxlZFwiO1xuXHRcdHNlbGVjdC5hcHBlbmQoJzxvcHRpb24gZGF0YS1pbmRleD1cIicrZGF0YS5yb3dzW2RdLmlkKydcIiB2YWx1ZT1cIicrZGF0YS5yb3dzW2RdW3ZhbHVlXSsnXCIgJytzZWwrJyAnK2RpcysnPicrZGF0YS5yb3dzW2RdW3RleHRdKyc8L29wdGlvbj4nKTtcblx0fVxuXHRzZWxlY3Quc2VsZWN0cGlja2VyKFwicmVmcmVzaFwiKTtcblx0X19zZWxlY3RfX2NvbnRlbnRbaWRzZWxlY3RdPWRhdGE7XG59XG5cbi8vLS0tLS0tLS0tLS0tLSBaSW5kZXhcbi8vXG5cdCQubWF4WkluZGV4ID0gJC5mbi5tYXhaSW5kZXggPSBmdW5jdGlvbihvcHQpIHtcbiAgICAvLy8gPHN1bW1hcnk+XG4gICAgLy8vIFJldHVybnMgdGhlIG1heCB6T3JkZXIgaW4gdGhlIGRvY3VtZW50IChubyBwYXJhbWV0ZXIpXG4gICAgLy8vIFNldHMgbWF4IHpPcmRlciBieSBwYXNzaW5nIGEgbm9uLXplcm8gbnVtYmVyXG4gICAgLy8vIHdoaWNoIGdldHMgYWRkZWQgdG8gdGhlIGhpZ2hlc3Qgek9yZGVyLlxuICAgIC8vLyA8L3N1bW1hcnk+ICAgIFxuICAgIC8vLyA8cGFyYW0gbmFtZT1cIm9wdFwiIHR5cGU9XCJvYmplY3RcIj5cbiAgICAvLy8gaW5jOiBpbmNyZW1lbnQgdmFsdWUsIFxuICAgIC8vLyBncm91cDogc2VsZWN0b3IgZm9yIHpJbmRleCBlbGVtZW50cyB0byBmaW5kIG1heCBmb3JcbiAgICAvLy8gPC9wYXJhbT5cbiAgICAvLy8gPHJldHVybnMgdHlwZT1cImpRdWVyeVwiIC8+XG4gICAgdmFyIGRlZiA9IHsgaW5jOiAxMCwgZ3JvdXA6IFwiKlwiIH07XG4gICAgJC5leHRlbmQoZGVmLCBvcHQpOyAgICBcbiAgICB2YXIgem1heCA9IDA7XG4gICAgJChkZWYuZ3JvdXApLmVhY2goZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBjdXIgPSBwYXJzZUludCgkKHRoaXMpLmNzcygnei1pbmRleCcpKTtcbiAgICAgICAgem1heCA9IGN1ciA+IHptYXggPyBjdXIgOiB6bWF4O1xuICAgIH0pO1xuICAgIGlmICghdGhpcy5qcXVlcnkpXG4gICAgICAgIHJldHVybiB6bWF4O1xuXG4gICAgcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpIHtcbiAgICAgICAgem1heCArPSBkZWYuaW5jO1xuICAgICAgICAkKHRoaXMpLmNzcyhcInotaW5kZXhcIiwgem1heCk7XG4gICAgfSk7XG5cdH1cblxuY29uc3QgSU5GTz1cImFsZXJ0LWluZm9cIjtcbmNvbnN0IFdBUk5JTkc9XCJhbGVydC13YXJuaW5nXCI7XG5jb25zdCBFUlJPUj1cImFsZXJ0LWRhbmdlclwiO1xuY29uc3QgT0s9XCJhbGVydC1zdWNjZXNzXCI7XG5cbmdsb2JhbC5nZXRJZFNlbGVjdGlvbnM9Z2V0SWRTZWxlY3Rpb25zO1xuZ2xvYmFsLnJlbG9hZFRhYmxlPXJlbG9hZFRhYmxlO1xuZ2xvYmFsLmZpeG1hcmdpbnM9Zml4bWFyZ2lucztcbmdsb2JhbC5fdGFibGVfc2VsZWN0aW9uc189X3RhYmxlX3NlbGVjdGlvbnNfO1xuZ2xvYmFsLl90YWJsZV9mb3JtYXR0ZXJzXz1fdGFibGVfZm9ybWF0dGVyc187XG5nbG9iYWwuX19zZWxlY3RfX2NvbnRlbnQ9X19zZWxlY3RfX2NvbnRlbnQ7XG5nbG9iYWwubWVzc2FnZUFsZXJ0PW1lc3NhZ2VBbGVydDtcbmdsb2JhbC5jYWxsU2VydmVyPWNhbGxTZXJ2ZXI7XG5nbG9iYWwucmVsb2FkU2VsZWN0PXJlbG9hZFNlbGVjdDtcbmdsb2JhbC5JTkZPPUlORk87XG5nbG9iYWwuV0FSTklORz1XQVJOSU5HO1xuZ2xvYmFsLkVSUk9SPUVSUk9SO1xuZ2xvYmFsLk9LPU9LO1xuXG5nbG9iYWwuJCA9IGdsb2JhbC5qUXVlcnkgPSAkO1xuXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9hc3NldHMvanMvdXRpbHMuanMiXSwic291cmNlUm9vdCI6IiJ9