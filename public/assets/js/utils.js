webpackJsonp([12],{

/***/ "./assets/js/utils.js":
/*!****************************!*\
  !*** ./assets/js/utils.js ***!
  \****************************/
/*! dynamic exports provided */
/*! all exports used */
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(jQuery, $, global) {(function ($) {
	$.fn.serializeJSON = function () {
		var json = {};
		jQuery.map($(this).serializeArray(), function (i, n) {
			json[i['name']] = i['value'];
		});
		return json;
	};
})(jQuery);

function callServer(controller, query, callback, params, type, context) {
	if (query === null || query == "null") query = "isajax=true";else query += "&isajax=true";
	$.ajax({
		url: controller,
		context: context,
		data: query,
		dataType: type,
		method: "POST",
		contentType: "application/x-www-form-urlencoded;charset=UTF-8"
	}).done(function (data, status, xhr) {
		if (type == 'html') {
			try {
				var r = JSON.parse(data);
				messageAlert("ERROR: " + data.msg, ERROR);
				if (data.code == -1) document.location = "/";
			} catch (e) {
				callback(data, params, context);
			}
		} else {
			if (!data instanceof Object || data.ok !== undefined && data.ok !== true) {
				messageAlert("ERROR: " + data.msg, ERROR);
				if (data.code == -1) document.location = "/";
			} else {
				if (callback !== undefined && callback != "" && callback != null) callback(data, params, context);
			}
		}
	}).fail(function (xhr, status, errorthrow) {
		document.write(xhr.responseText);
		//messageAlert("ERROR: "+xhr.responseText,ERROR);
	});
}

function messageAlert(message, type, timeout) {
	$("#alerts").html("<div id='alertbody' class='alert " + type + " alert-dismissible fade show' role='alert'>" + message + "<button type='button' class='close' data-dismiss='alert' aria-label='Pechar'><span aria-hidden='true'>&times;</span></button>" + "</div>").show();
	if (timeout !== undefined) {
		setTimeout(function () {
			$("#alertbody").alert("close");
		}, timeout);
	}
}

//-------  Table
var _table_selections_ = {};
var _table_formatters_ = {};

function getIdSelections(id) {
	return $.map($("#" + id).bootstrapTable('getSelections'), function (row) {
		return row.id;
	});
}

function reloadTable(data, id) {
	var table = $("#" + id);
	table.bootstrapTable("load", data);
	table.trigger("load-success.bs.table", data);
	table.trigger("uncheck-all.bs.table");
}

function fixmargins(id, value, row, index, field) {
	if (_table_formatters_[id] !== undefined && _table_formatters_[id][field] !== undefined) {
		return window[_table_formatters_[id][field]](value, row, index, field);
	}
	return '<span style="margin-left: 8px">' + value + '</span>';
}

//------  Select
//

var __select__content = {};

function reloadSelect(idselect, data) {
	var select = $("#" + idselect);
	var value = select.data("value");
	var text = select.data("text");
	var datastr = JSON.stringify(data);

	select.empty();
	select.data("data", datastr);
	select.attr("data-data", datastr);
	for (var d in data.rows) {
		var sel = "";
		var dis = "";
		if (data.rows[d].selected != undefined && data.rows[d].selected == "true") sel = "selected";
		if (data.rows[d].disabled != undefined && data.rows[d].disabled == "true") dis = "disabled";
		select.append('<option data-index="' + data.rows[d].id + '" value="' + data.rows[d][value] + '" ' + sel + ' ' + dis + '>' + data.rows[d][text] + '</option>');
	}
	select.selectpicker("refresh");
	__select__content[idselect] = data;
}

//------------- ZIndex
//
$.maxZIndex = $.fn.maxZIndex = function (opt) {
	/// <summary>
	/// Returns the max zOrder in the document (no parameter)
	/// Sets max zOrder by passing a non-zero number
	/// which gets added to the highest zOrder.
	/// </summary>    
	/// <param name="opt" type="object">
	/// inc: increment value, 
	/// group: selector for zIndex elements to find max for
	/// </param>
	/// <returns type="jQuery" />
	var def = { inc: 10, group: "*" };
	$.extend(def, opt);
	var zmax = 0;
	$(def.group).each(function () {
		var cur = parseInt($(this).css('z-index'));
		zmax = cur > zmax ? cur : zmax;
	});
	if (!this.jquery) return zmax;

	return this.each(function () {
		zmax += def.inc;
		$(this).css("z-index", zmax);
	});
};

var INFO = "alert-info";
var WARNING = "alert-warning";
var ERROR = "alert-danger";
var OK = "alert-success";

global.getIdSelections = getIdSelections;
global.reloadTable = reloadTable;
global.fixmargins = fixmargins;
global._table_selections_ = _table_selections_;
global._table_formatters_ = _table_formatters_;
global.__select__content = __select__content;
global.messageAlert = messageAlert;
global.callServer = callServer;
global.reloadSelect = reloadSelect;
global.INFO = INFO;
global.WARNING = WARNING;
global.ERROR = ERROR;
global.OK = OK;

global.$ = global.jQuery = $;
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(/*! jquery */ "./node_modules/jquery/dist/jquery.js"), __webpack_require__(/*! jquery */ "./node_modules/jquery/dist/jquery.js"), __webpack_require__(/*! ./../../node_modules/webpack/buildin/global.js */ "./node_modules/webpack/buildin/global.js")))

/***/ })

},["./assets/js/utils.js"]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9hc3NldHMvanMvdXRpbHMuanMiXSwibmFtZXMiOlsiJCIsImZuIiwic2VyaWFsaXplSlNPTiIsImpzb24iLCJqUXVlcnkiLCJtYXAiLCJzZXJpYWxpemVBcnJheSIsImkiLCJuIiwiY2FsbFNlcnZlciIsImNvbnRyb2xsZXIiLCJxdWVyeSIsImNhbGxiYWNrIiwicGFyYW1zIiwidHlwZSIsImNvbnRleHQiLCJhamF4IiwidXJsIiwiZGF0YSIsImRhdGFUeXBlIiwibWV0aG9kIiwiY29udGVudFR5cGUiLCJkb25lIiwic3RhdHVzIiwieGhyIiwiciIsIkpTT04iLCJwYXJzZSIsIm1lc3NhZ2VBbGVydCIsIm1zZyIsIkVSUk9SIiwiY29kZSIsImRvY3VtZW50IiwibG9jYXRpb24iLCJlIiwiT2JqZWN0Iiwib2siLCJ1bmRlZmluZWQiLCJmYWlsIiwiZXJyb3J0aHJvdyIsIndyaXRlIiwicmVzcG9uc2VUZXh0IiwibWVzc2FnZSIsInRpbWVvdXQiLCJodG1sIiwic2hvdyIsInNldFRpbWVvdXQiLCJhbGVydCIsIl90YWJsZV9zZWxlY3Rpb25zXyIsIl90YWJsZV9mb3JtYXR0ZXJzXyIsImdldElkU2VsZWN0aW9ucyIsImlkIiwiYm9vdHN0cmFwVGFibGUiLCJyb3ciLCJyZWxvYWRUYWJsZSIsInRhYmxlIiwidHJpZ2dlciIsImZpeG1hcmdpbnMiLCJ2YWx1ZSIsImluZGV4IiwiZmllbGQiLCJ3aW5kb3ciLCJfX3NlbGVjdF9fY29udGVudCIsInJlbG9hZFNlbGVjdCIsImlkc2VsZWN0Iiwic2VsZWN0IiwidGV4dCIsImRhdGFzdHIiLCJzdHJpbmdpZnkiLCJlbXB0eSIsImF0dHIiLCJkIiwicm93cyIsInNlbCIsImRpcyIsInNlbGVjdGVkIiwiZGlzYWJsZWQiLCJhcHBlbmQiLCJzZWxlY3RwaWNrZXIiLCJtYXhaSW5kZXgiLCJvcHQiLCJkZWYiLCJpbmMiLCJncm91cCIsImV4dGVuZCIsInptYXgiLCJlYWNoIiwiY3VyIiwicGFyc2VJbnQiLCJjc3MiLCJqcXVlcnkiLCJJTkZPIiwiV0FSTklORyIsIk9LIiwiZ2xvYmFsIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBQUEsMERBQUMsVUFBVUEsQ0FBVixFQUFhO0FBQ2RBLEdBQUVDLEVBQUYsQ0FBS0MsYUFBTCxHQUFtQixZQUFXO0FBQzFCLE1BQUlDLE9BQU8sRUFBWDtBQUNBQyxTQUFPQyxHQUFQLENBQVdMLEVBQUUsSUFBRixFQUFRTSxjQUFSLEVBQVgsRUFBcUMsVUFBU0MsQ0FBVCxFQUFZQyxDQUFaLEVBQWM7QUFDL0NMLFFBQUtJLEVBQUUsTUFBRixDQUFMLElBQWtCQSxFQUFFLE9BQUYsQ0FBbEI7QUFDSCxHQUZEO0FBR0EsU0FBT0osSUFBUDtBQUNILEVBTkQ7QUFPQyxDQVJELEVBUUlDLE1BUko7O0FBVUEsU0FBU0ssVUFBVCxDQUFvQkMsVUFBcEIsRUFBK0JDLEtBQS9CLEVBQXFDQyxRQUFyQyxFQUE4Q0MsTUFBOUMsRUFBcURDLElBQXJELEVBQTBEQyxPQUExRCxFQUFtRTtBQUNsRSxLQUFLSixVQUFRLElBQVQsSUFBaUJBLFNBQU8sTUFBNUIsRUFBcUNBLFFBQU0sYUFBTixDQUFyQyxLQUNLQSxTQUFPLGNBQVA7QUFDTFgsR0FBRWdCLElBQUYsQ0FBTztBQUNOQyxPQUFLUCxVQURDO0FBRU5LLFdBQVNBLE9BRkg7QUFHTkcsUUFBTVAsS0FIQTtBQUlOUSxZQUFVTCxJQUpKO0FBS05NLFVBQVEsTUFMRjtBQU1OQyxlQUFhO0FBTlAsRUFBUCxFQU9HQyxJQVBILENBT1EsVUFBVUosSUFBVixFQUFlSyxNQUFmLEVBQXNCQyxHQUF0QixFQUEyQjtBQUNsQyxNQUFJVixRQUFNLE1BQVYsRUFBa0I7QUFDakIsT0FBSTtBQUNILFFBQUlXLElBQUVDLEtBQUtDLEtBQUwsQ0FBV1QsSUFBWCxDQUFOO0FBQ0FVLGlCQUFhLFlBQVVWLEtBQUtXLEdBQTVCLEVBQWdDQyxLQUFoQztBQUNBLFFBQUlaLEtBQUthLElBQUwsSUFBVyxDQUFDLENBQWhCLEVBQW1CQyxTQUFTQyxRQUFULEdBQWtCLEdBQWxCO0FBQ25CLElBSkQsQ0FJRSxPQUFNQyxDQUFOLEVBQVM7QUFDVnRCLGFBQVNNLElBQVQsRUFBY0wsTUFBZCxFQUFxQkUsT0FBckI7QUFDQTtBQUNELEdBUkQsTUFRTztBQUNOLE9BQUssQ0FBQ0csSUFBRCxZQUFpQmlCLE1BQWxCLElBQThCakIsS0FBS2tCLEVBQUwsS0FBVUMsU0FBVixJQUF1Qm5CLEtBQUtrQixFQUFMLEtBQVUsSUFBbkUsRUFBMEU7QUFDekVSLGlCQUFhLFlBQVVWLEtBQUtXLEdBQTVCLEVBQWdDQyxLQUFoQztBQUNBLFFBQUlaLEtBQUthLElBQUwsSUFBVyxDQUFDLENBQWhCLEVBQW1CQyxTQUFTQyxRQUFULEdBQWtCLEdBQWxCO0FBQ25CLElBSEQsTUFJSztBQUNKLFFBQUtyQixhQUFXeUIsU0FBWixJQUEyQnpCLFlBQVUsRUFBckMsSUFBNkNBLFlBQVUsSUFBM0QsRUFBa0VBLFNBQVNNLElBQVQsRUFBY0wsTUFBZCxFQUFxQkUsT0FBckI7QUFDbEU7QUFDRDtBQUNELEVBekJELEVBeUJHdUIsSUF6QkgsQ0F5QlEsVUFBVWQsR0FBVixFQUFjRCxNQUFkLEVBQXFCZ0IsVUFBckIsRUFBaUM7QUFDdkNQLFdBQVNRLEtBQVQsQ0FBZWhCLElBQUlpQixZQUFuQjtBQUNBO0FBQ0QsRUE1QkQ7QUE2QkE7O0FBRUQsU0FBU2IsWUFBVCxDQUFzQmMsT0FBdEIsRUFBOEI1QixJQUE5QixFQUFtQzZCLE9BQW5DLEVBQTRDO0FBQzNDM0MsR0FBRSxTQUFGLEVBQWE0QyxJQUFiLENBQWtCLHNDQUFvQzlCLElBQXBDLEdBQXlDLDZDQUF6QyxHQUF1RjRCLE9BQXZGLEdBQ1osK0hBRFksR0FFWixRQUZOLEVBRWdCRyxJQUZoQjtBQUdBLEtBQUlGLFlBQVVOLFNBQWQsRUFBeUI7QUFDeEJTLGFBQVcsWUFBVTtBQUFFOUMsS0FBRSxZQUFGLEVBQWdCK0MsS0FBaEIsQ0FBc0IsT0FBdEI7QUFBaUMsR0FBeEQsRUFBMERKLE9BQTFEO0FBQ0E7QUFDRDs7QUFFRDtBQUNBLElBQUlLLHFCQUFtQixFQUF2QjtBQUNBLElBQUlDLHFCQUFtQixFQUF2Qjs7QUFFQSxTQUFTQyxlQUFULENBQXlCQyxFQUF6QixFQUE2QjtBQUM1QixRQUFPbkQsRUFBRUssR0FBRixDQUFNTCxFQUFFLE1BQUltRCxFQUFOLEVBQVVDLGNBQVYsQ0FBeUIsZUFBekIsQ0FBTixFQUFpRCxVQUFVQyxHQUFWLEVBQWU7QUFDdEUsU0FBT0EsSUFBSUYsRUFBWDtBQUNBLEVBRk0sQ0FBUDtBQUdBOztBQUVELFNBQVNHLFdBQVQsQ0FBcUJwQyxJQUFyQixFQUEwQmlDLEVBQTFCLEVBQThCO0FBQzdCLEtBQUlJLFFBQU12RCxFQUFFLE1BQUltRCxFQUFOLENBQVY7QUFDQUksT0FBTUgsY0FBTixDQUFxQixNQUFyQixFQUE0QmxDLElBQTVCO0FBQ0FxQyxPQUFNQyxPQUFOLENBQWMsdUJBQWQsRUFBc0N0QyxJQUF0QztBQUNBcUMsT0FBTUMsT0FBTixDQUFjLHNCQUFkO0FBQ0E7O0FBRUQsU0FBU0MsVUFBVCxDQUFvQk4sRUFBcEIsRUFBdUJPLEtBQXZCLEVBQTZCTCxHQUE3QixFQUFpQ00sS0FBakMsRUFBdUNDLEtBQXZDLEVBQThDO0FBQzdDLEtBQUtYLG1CQUFtQkUsRUFBbkIsTUFBeUJkLFNBQTFCLElBQXlDWSxtQkFBbUJFLEVBQW5CLEVBQXVCUyxLQUF2QixNQUFnQ3ZCLFNBQTdFLEVBQXlGO0FBQ3hGLFNBQU93QixPQUFPWixtQkFBbUJFLEVBQW5CLEVBQXVCUyxLQUF2QixDQUFQLEVBQXNDRixLQUF0QyxFQUE0Q0wsR0FBNUMsRUFBZ0RNLEtBQWhELEVBQXNEQyxLQUF0RCxDQUFQO0FBQ0E7QUFDRCxRQUFPLG9DQUFrQ0YsS0FBbEMsR0FBd0MsU0FBL0M7QUFDQTs7QUFFRDtBQUNBOztBQUVBLElBQUtJLG9CQUFrQixFQUF2Qjs7QUFFQSxTQUFTQyxZQUFULENBQXNCQyxRQUF0QixFQUErQjlDLElBQS9CLEVBQXFDO0FBQ3BDLEtBQUkrQyxTQUFPakUsRUFBRSxNQUFJZ0UsUUFBTixDQUFYO0FBQ0EsS0FBSU4sUUFBTU8sT0FBTy9DLElBQVAsQ0FBWSxPQUFaLENBQVY7QUFDQSxLQUFJZ0QsT0FBS0QsT0FBTy9DLElBQVAsQ0FBWSxNQUFaLENBQVQ7QUFDQSxLQUFJaUQsVUFBUXpDLEtBQUswQyxTQUFMLENBQWVsRCxJQUFmLENBQVo7O0FBRUErQyxRQUFPSSxLQUFQO0FBQ0FKLFFBQU8vQyxJQUFQLENBQVksTUFBWixFQUFtQmlELE9BQW5CO0FBQ0FGLFFBQU9LLElBQVAsQ0FBWSxXQUFaLEVBQXdCSCxPQUF4QjtBQUNBLE1BQUksSUFBSUksQ0FBUixJQUFhckQsS0FBS3NELElBQWxCLEVBQXdCO0FBQ3ZCLE1BQUlDLE1BQUksRUFBUjtBQUNBLE1BQUlDLE1BQUksRUFBUjtBQUNBLE1BQUt4RCxLQUFLc0QsSUFBTCxDQUFVRCxDQUFWLEVBQWFJLFFBQWIsSUFBeUJ0QyxTQUExQixJQUF5Q25CLEtBQUtzRCxJQUFMLENBQVVELENBQVYsRUFBYUksUUFBYixJQUF1QixNQUFwRSxFQUE2RUYsTUFBSSxVQUFKO0FBQzdFLE1BQUt2RCxLQUFLc0QsSUFBTCxDQUFVRCxDQUFWLEVBQWFLLFFBQWIsSUFBeUJ2QyxTQUExQixJQUF5Q25CLEtBQUtzRCxJQUFMLENBQVVELENBQVYsRUFBYUssUUFBYixJQUF1QixNQUFwRSxFQUE2RUYsTUFBSSxVQUFKO0FBQzdFVCxTQUFPWSxNQUFQLENBQWMseUJBQXVCM0QsS0FBS3NELElBQUwsQ0FBVUQsQ0FBVixFQUFhcEIsRUFBcEMsR0FBdUMsV0FBdkMsR0FBbURqQyxLQUFLc0QsSUFBTCxDQUFVRCxDQUFWLEVBQWFiLEtBQWIsQ0FBbkQsR0FBdUUsSUFBdkUsR0FBNEVlLEdBQTVFLEdBQWdGLEdBQWhGLEdBQW9GQyxHQUFwRixHQUF3RixHQUF4RixHQUE0RnhELEtBQUtzRCxJQUFMLENBQVVELENBQVYsRUFBYUwsSUFBYixDQUE1RixHQUErRyxXQUE3SDtBQUNBO0FBQ0RELFFBQU9hLFlBQVAsQ0FBb0IsU0FBcEI7QUFDQWhCLG1CQUFrQkUsUUFBbEIsSUFBNEI5QyxJQUE1QjtBQUNBOztBQUVEO0FBQ0E7QUFDQ2xCLEVBQUUrRSxTQUFGLEdBQWMvRSxFQUFFQyxFQUFGLENBQUs4RSxTQUFMLEdBQWlCLFVBQVNDLEdBQVQsRUFBYztBQUMxQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUlDLE1BQU0sRUFBRUMsS0FBSyxFQUFQLEVBQVdDLE9BQU8sR0FBbEIsRUFBVjtBQUNBbkYsR0FBRW9GLE1BQUYsQ0FBU0gsR0FBVCxFQUFjRCxHQUFkO0FBQ0EsS0FBSUssT0FBTyxDQUFYO0FBQ0FyRixHQUFFaUYsSUFBSUUsS0FBTixFQUFhRyxJQUFiLENBQWtCLFlBQVc7QUFDekIsTUFBSUMsTUFBTUMsU0FBU3hGLEVBQUUsSUFBRixFQUFReUYsR0FBUixDQUFZLFNBQVosQ0FBVCxDQUFWO0FBQ0FKLFNBQU9FLE1BQU1GLElBQU4sR0FBYUUsR0FBYixHQUFtQkYsSUFBMUI7QUFDSCxFQUhEO0FBSUEsS0FBSSxDQUFDLEtBQUtLLE1BQVYsRUFDSSxPQUFPTCxJQUFQOztBQUVKLFFBQU8sS0FBS0MsSUFBTCxDQUFVLFlBQVc7QUFDeEJELFVBQVFKLElBQUlDLEdBQVo7QUFDQWxGLElBQUUsSUFBRixFQUFReUYsR0FBUixDQUFZLFNBQVosRUFBdUJKLElBQXZCO0FBQ0gsRUFITSxDQUFQO0FBSUYsQ0F6QkQ7O0FBMkJELElBQU1NLE9BQUssWUFBWDtBQUNBLElBQU1DLFVBQVEsZUFBZDtBQUNBLElBQU05RCxRQUFNLGNBQVo7QUFDQSxJQUFNK0QsS0FBRyxlQUFUOztBQUVBQyxPQUFPNUMsZUFBUCxHQUF1QkEsZUFBdkI7QUFDQTRDLE9BQU94QyxXQUFQLEdBQW1CQSxXQUFuQjtBQUNBd0MsT0FBT3JDLFVBQVAsR0FBa0JBLFVBQWxCO0FBQ0FxQyxPQUFPOUMsa0JBQVAsR0FBMEJBLGtCQUExQjtBQUNBOEMsT0FBTzdDLGtCQUFQLEdBQTBCQSxrQkFBMUI7QUFDQTZDLE9BQU9oQyxpQkFBUCxHQUF5QkEsaUJBQXpCO0FBQ0FnQyxPQUFPbEUsWUFBUCxHQUFvQkEsWUFBcEI7QUFDQWtFLE9BQU9yRixVQUFQLEdBQWtCQSxVQUFsQjtBQUNBcUYsT0FBTy9CLFlBQVAsR0FBb0JBLFlBQXBCO0FBQ0ErQixPQUFPSCxJQUFQLEdBQVlBLElBQVo7QUFDQUcsT0FBT0YsT0FBUCxHQUFlQSxPQUFmO0FBQ0FFLE9BQU9oRSxLQUFQLEdBQWFBLEtBQWI7QUFDQWdFLE9BQU9ELEVBQVAsR0FBVUEsRUFBVjs7QUFFQUMsT0FBTzlGLENBQVAsR0FBVzhGLE9BQU8xRixNQUFQLEdBQWdCSixDQUEzQixDIiwiZmlsZSI6ImpzL3V0aWxzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uKCAkICl7XG4kLmZuLnNlcmlhbGl6ZUpTT049ZnVuY3Rpb24oKSB7XG4gICAgdmFyIGpzb24gPSB7fTtcbiAgICBqUXVlcnkubWFwKCQodGhpcykuc2VyaWFsaXplQXJyYXkoKSwgZnVuY3Rpb24oaSwgbil7XG4gICAgICAgIGpzb25baVsnbmFtZSddXSA9IGlbJ3ZhbHVlJ107XG4gICAgfSk7XG4gICAgcmV0dXJuIGpzb247XG59O1xufSkoIGpRdWVyeSApO1xuXG5mdW5jdGlvbiBjYWxsU2VydmVyKGNvbnRyb2xsZXIscXVlcnksY2FsbGJhY2sscGFyYW1zLHR5cGUsY29udGV4dCkge1xuXHRpZiAoKHF1ZXJ5PT09bnVsbCl8fChxdWVyeT09XCJudWxsXCIpKSBxdWVyeT1cImlzYWpheD10cnVlXCI7XG5cdGVsc2UgcXVlcnkrPVwiJmlzYWpheD10cnVlXCI7XG5cdCQuYWpheCh7XG5cdFx0dXJsOiBjb250cm9sbGVyLFxuXHRcdGNvbnRleHQ6IGNvbnRleHQsXG5cdFx0ZGF0YTogcXVlcnksXG5cdFx0ZGF0YVR5cGU6IHR5cGUsXG5cdFx0bWV0aG9kOiBcIlBPU1RcIixcblx0XHRjb250ZW50VHlwZTogXCJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQ7Y2hhcnNldD1VVEYtOFwiLFxuXHR9KS5kb25lKGZ1bmN0aW9uIChkYXRhLHN0YXR1cyx4aHIpIHsgXG5cdFx0aWYgKHR5cGU9PSdodG1sJykgeyBcblx0XHRcdHRyeSB7XG5cdFx0XHRcdHZhciByPUpTT04ucGFyc2UoZGF0YSk7IFxuXHRcdFx0XHRtZXNzYWdlQWxlcnQoXCJFUlJPUjogXCIrZGF0YS5tc2csRVJST1IpO1xuXHRcdFx0XHRpZiAoZGF0YS5jb2RlPT0tMSkgZG9jdW1lbnQubG9jYXRpb249XCIvXCI7XG5cdFx0XHR9IGNhdGNoKGUpIHtcblx0XHRcdFx0Y2FsbGJhY2soZGF0YSxwYXJhbXMsY29udGV4dCk7XG5cdFx0XHR9XG5cdFx0fSBlbHNlIHtcblx0XHRcdGlmICgoIWRhdGEgaW5zdGFuY2VvZiBPYmplY3QpIHx8IChkYXRhLm9rIT09dW5kZWZpbmVkICYmIGRhdGEub2shPT10cnVlKSkge1xuXHRcdFx0XHRtZXNzYWdlQWxlcnQoXCJFUlJPUjogXCIrZGF0YS5tc2csRVJST1IpO1xuXHRcdFx0XHRpZiAoZGF0YS5jb2RlPT0tMSkgZG9jdW1lbnQubG9jYXRpb249XCIvXCI7XG5cdFx0XHR9XG5cdFx0XHRlbHNlIHtcblx0XHRcdFx0aWYgKChjYWxsYmFjayE9PXVuZGVmaW5lZCkgJiYgKGNhbGxiYWNrIT1cIlwiKSAmJiAoY2FsbGJhY2shPW51bGwpKSBjYWxsYmFjayhkYXRhLHBhcmFtcyxjb250ZXh0KTtcblx0XHRcdH1cblx0XHR9XG5cdH0pLmZhaWwoZnVuY3Rpb24gKHhocixzdGF0dXMsZXJyb3J0aHJvdykgeyBcblx0XHRcdGRvY3VtZW50LndyaXRlKHhoci5yZXNwb25zZVRleHQpO1xuXHRcdFx0Ly9tZXNzYWdlQWxlcnQoXCJFUlJPUjogXCIreGhyLnJlc3BvbnNlVGV4dCxFUlJPUik7XG5cdH0pO1xufVxuXG5mdW5jdGlvbiBtZXNzYWdlQWxlcnQobWVzc2FnZSx0eXBlLHRpbWVvdXQpIHtcblx0JChcIiNhbGVydHNcIikuaHRtbChcIjxkaXYgaWQ9J2FsZXJ0Ym9keScgY2xhc3M9J2FsZXJ0IFwiK3R5cGUrXCIgYWxlcnQtZGlzbWlzc2libGUgZmFkZSBzaG93JyByb2xlPSdhbGVydCc+XCIrbWVzc2FnZStcblx0XHRcdFx0XHRcdFx0XCI8YnV0dG9uIHR5cGU9J2J1dHRvbicgY2xhc3M9J2Nsb3NlJyBkYXRhLWRpc21pc3M9J2FsZXJ0JyBhcmlhLWxhYmVsPSdQZWNoYXInPjxzcGFuIGFyaWEtaGlkZGVuPSd0cnVlJz4mdGltZXM7PC9zcGFuPjwvYnV0dG9uPlwiK1xuXHRcdFx0XHRcdFx0XHRcIjwvZGl2PlwiKS5zaG93KCk7XG5cdGlmICh0aW1lb3V0IT09dW5kZWZpbmVkKSB7XG5cdFx0c2V0VGltZW91dChmdW5jdGlvbigpeyAkKFwiI2FsZXJ0Ym9keVwiKS5hbGVydChcImNsb3NlXCIpOyB9LCB0aW1lb3V0KTtcblx0fVxufVxuXG4vLy0tLS0tLS0gIFRhYmxlXG52YXIgX3RhYmxlX3NlbGVjdGlvbnNfPXt9O1xudmFyIF90YWJsZV9mb3JtYXR0ZXJzXz17fTtcblxuZnVuY3Rpb24gZ2V0SWRTZWxlY3Rpb25zKGlkKSB7XG5cdHJldHVybiAkLm1hcCgkKFwiI1wiK2lkKS5ib290c3RyYXBUYWJsZSgnZ2V0U2VsZWN0aW9ucycpLCBmdW5jdGlvbiAocm93KSB7XG5cdFx0cmV0dXJuIHJvdy5pZFxuXHR9KTtcbn1cblxuZnVuY3Rpb24gcmVsb2FkVGFibGUoZGF0YSxpZCkge1xuXHR2YXIgdGFibGU9JChcIiNcIitpZCk7XG5cdHRhYmxlLmJvb3RzdHJhcFRhYmxlKFwibG9hZFwiLGRhdGEpO1xuXHR0YWJsZS50cmlnZ2VyKFwibG9hZC1zdWNjZXNzLmJzLnRhYmxlXCIsZGF0YSk7XG5cdHRhYmxlLnRyaWdnZXIoXCJ1bmNoZWNrLWFsbC5icy50YWJsZVwiKTtcbn1cblxuZnVuY3Rpb24gZml4bWFyZ2lucyhpZCx2YWx1ZSxyb3csaW5kZXgsZmllbGQpIHsgXG5cdGlmICgoX3RhYmxlX2Zvcm1hdHRlcnNfW2lkXSE9PXVuZGVmaW5lZCkgJiYgKF90YWJsZV9mb3JtYXR0ZXJzX1tpZF1bZmllbGRdIT09dW5kZWZpbmVkKSkge1xuXHRcdHJldHVybiB3aW5kb3dbX3RhYmxlX2Zvcm1hdHRlcnNfW2lkXVtmaWVsZF1dKHZhbHVlLHJvdyxpbmRleCxmaWVsZCk7XG5cdH1cblx0cmV0dXJuICc8c3BhbiBzdHlsZT1cIm1hcmdpbi1sZWZ0OiA4cHhcIj4nK3ZhbHVlKyc8L3NwYW4+Jztcbn1cblxuLy8tLS0tLS0gIFNlbGVjdFxuLy9cblxudmFyICBfX3NlbGVjdF9fY29udGVudD17fTtcblxuZnVuY3Rpb24gcmVsb2FkU2VsZWN0KGlkc2VsZWN0LGRhdGEpIHtcblx0dmFyIHNlbGVjdD0kKFwiI1wiK2lkc2VsZWN0KTtcblx0dmFyIHZhbHVlPXNlbGVjdC5kYXRhKFwidmFsdWVcIik7XG5cdHZhciB0ZXh0PXNlbGVjdC5kYXRhKFwidGV4dFwiKTtcblx0dmFyIGRhdGFzdHI9SlNPTi5zdHJpbmdpZnkoZGF0YSk7XG5cblx0c2VsZWN0LmVtcHR5KCk7XG5cdHNlbGVjdC5kYXRhKFwiZGF0YVwiLGRhdGFzdHIpO1xuXHRzZWxlY3QuYXR0cihcImRhdGEtZGF0YVwiLGRhdGFzdHIpO1xuXHRmb3IodmFyIGQgaW4gZGF0YS5yb3dzKSB7XG5cdFx0dmFyIHNlbD1cIlwiO1xuXHRcdHZhciBkaXM9XCJcIjtcblx0XHRpZiAoKGRhdGEucm93c1tkXS5zZWxlY3RlZCAhPSB1bmRlZmluZWQpICYmIChkYXRhLnJvd3NbZF0uc2VsZWN0ZWQ9PVwidHJ1ZVwiKSkgc2VsPVwic2VsZWN0ZWRcIjtcblx0XHRpZiAoKGRhdGEucm93c1tkXS5kaXNhYmxlZCAhPSB1bmRlZmluZWQpICYmIChkYXRhLnJvd3NbZF0uZGlzYWJsZWQ9PVwidHJ1ZVwiKSkgZGlzPVwiZGlzYWJsZWRcIjtcblx0XHRzZWxlY3QuYXBwZW5kKCc8b3B0aW9uIGRhdGEtaW5kZXg9XCInK2RhdGEucm93c1tkXS5pZCsnXCIgdmFsdWU9XCInK2RhdGEucm93c1tkXVt2YWx1ZV0rJ1wiICcrc2VsKycgJytkaXMrJz4nK2RhdGEucm93c1tkXVt0ZXh0XSsnPC9vcHRpb24+Jyk7XG5cdH1cblx0c2VsZWN0LnNlbGVjdHBpY2tlcihcInJlZnJlc2hcIik7XG5cdF9fc2VsZWN0X19jb250ZW50W2lkc2VsZWN0XT1kYXRhO1xufVxuXG4vLy0tLS0tLS0tLS0tLS0gWkluZGV4XG4vL1xuXHQkLm1heFpJbmRleCA9ICQuZm4ubWF4WkluZGV4ID0gZnVuY3Rpb24ob3B0KSB7XG4gICAgLy8vIDxzdW1tYXJ5PlxuICAgIC8vLyBSZXR1cm5zIHRoZSBtYXggek9yZGVyIGluIHRoZSBkb2N1bWVudCAobm8gcGFyYW1ldGVyKVxuICAgIC8vLyBTZXRzIG1heCB6T3JkZXIgYnkgcGFzc2luZyBhIG5vbi16ZXJvIG51bWJlclxuICAgIC8vLyB3aGljaCBnZXRzIGFkZGVkIHRvIHRoZSBoaWdoZXN0IHpPcmRlci5cbiAgICAvLy8gPC9zdW1tYXJ5PiAgICBcbiAgICAvLy8gPHBhcmFtIG5hbWU9XCJvcHRcIiB0eXBlPVwib2JqZWN0XCI+XG4gICAgLy8vIGluYzogaW5jcmVtZW50IHZhbHVlLCBcbiAgICAvLy8gZ3JvdXA6IHNlbGVjdG9yIGZvciB6SW5kZXggZWxlbWVudHMgdG8gZmluZCBtYXggZm9yXG4gICAgLy8vIDwvcGFyYW0+XG4gICAgLy8vIDxyZXR1cm5zIHR5cGU9XCJqUXVlcnlcIiAvPlxuICAgIHZhciBkZWYgPSB7IGluYzogMTAsIGdyb3VwOiBcIipcIiB9O1xuICAgICQuZXh0ZW5kKGRlZiwgb3B0KTsgICAgXG4gICAgdmFyIHptYXggPSAwO1xuICAgICQoZGVmLmdyb3VwKS5lYWNoKGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgY3VyID0gcGFyc2VJbnQoJCh0aGlzKS5jc3MoJ3otaW5kZXgnKSk7XG4gICAgICAgIHptYXggPSBjdXIgPiB6bWF4ID8gY3VyIDogem1heDtcbiAgICB9KTtcbiAgICBpZiAoIXRoaXMuanF1ZXJ5KVxuICAgICAgICByZXR1cm4gem1heDtcblxuICAgIHJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKSB7XG4gICAgICAgIHptYXggKz0gZGVmLmluYztcbiAgICAgICAgJCh0aGlzKS5jc3MoXCJ6LWluZGV4XCIsIHptYXgpO1xuICAgIH0pO1xuXHR9XG5cbmNvbnN0IElORk89XCJhbGVydC1pbmZvXCI7XG5jb25zdCBXQVJOSU5HPVwiYWxlcnQtd2FybmluZ1wiO1xuY29uc3QgRVJST1I9XCJhbGVydC1kYW5nZXJcIjtcbmNvbnN0IE9LPVwiYWxlcnQtc3VjY2Vzc1wiO1xuXG5nbG9iYWwuZ2V0SWRTZWxlY3Rpb25zPWdldElkU2VsZWN0aW9ucztcbmdsb2JhbC5yZWxvYWRUYWJsZT1yZWxvYWRUYWJsZTtcbmdsb2JhbC5maXhtYXJnaW5zPWZpeG1hcmdpbnM7XG5nbG9iYWwuX3RhYmxlX3NlbGVjdGlvbnNfPV90YWJsZV9zZWxlY3Rpb25zXztcbmdsb2JhbC5fdGFibGVfZm9ybWF0dGVyc189X3RhYmxlX2Zvcm1hdHRlcnNfO1xuZ2xvYmFsLl9fc2VsZWN0X19jb250ZW50PV9fc2VsZWN0X19jb250ZW50O1xuZ2xvYmFsLm1lc3NhZ2VBbGVydD1tZXNzYWdlQWxlcnQ7XG5nbG9iYWwuY2FsbFNlcnZlcj1jYWxsU2VydmVyO1xuZ2xvYmFsLnJlbG9hZFNlbGVjdD1yZWxvYWRTZWxlY3Q7XG5nbG9iYWwuSU5GTz1JTkZPO1xuZ2xvYmFsLldBUk5JTkc9V0FSTklORztcbmdsb2JhbC5FUlJPUj1FUlJPUjtcbmdsb2JhbC5PSz1PSztcblxuZ2xvYmFsLiQgPSBnbG9iYWwualF1ZXJ5ID0gJDtcblxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vYXNzZXRzL2pzL3V0aWxzLmpzIl0sInNvdXJjZVJvb3QiOiIifQ==